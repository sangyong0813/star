<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <title>날짜 계산 연습문제</title>
    <script>
      // 연습문제)
      // 사용자에게 날짜를 입력받아, 현재 시간이 입력받은 날짜로 부터
      // 얼마나 지났는지 (며칠) 계산을 해보자.
      // 1) 사용자에게 날짜 입력받기 (input type =date)
      // 2) 날짜 계산하기
      // 3) ~일이 지났습니다.
      function showResult() {
        // let inputDate = document.getElementById("inputDate").value;
        // console.log(inputDate);

        // let inputDate = new Date(document.getElementById("inputDate").value);
        let inputDate = new Date(document.getElementsByTagName("input")[0].value);
        console.log(inputDate);

        let nowDate = new Date();
        console.log(nowDate);
        console.log(nowDate.getTime());
        console.log(Date.now()); // 현재 날짜 시간의 타임 스탬프 값

        let days = Math.floor((nowDate - inputDate) / 86400000);
        console.log(days);
        document.getElementById("dayResult").innerHTML = `${days}일이 지났습니다.`;

        let afterDate = new Date(inputDate.getTime() + 8607500000);
        let beforeDate = new Date(inputDate.getTime() - 8640000000);

        document.getElementById(
          "afterDayResult"
        ).innerHTML = `100일 후는 ${afterDate.toLocaleDateString()} 입니다.`;
        document.getElementById(
          "beforeDayResult"
        ).innerHTML = `100일 전은 ${beforeDate.toLocaleDateString()} 입니다.`;
      }
    </script>
    <style>
      #main {
        width: 270px;
        height: 30px;
      }
      #dayResult,
      #afterDayResult,
      #beforeDayResult {
        width: 270px;
        height: 30px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div>지정일을 입력하고, 결과 버튼을 누르세요.</div>
    <div class="input-group mb-3" id="main">
      <input type="date" id="inputDate" class="form-control" />
      <button onclick="showResult()" class="btn btn-primary">결과</button>
    </div>
    <div id="dayResult" class="border border-4"></div>
    <div id="afterDayResult" class="border border-4"></div>
    <div id="beforeDayResult" class="border border-4"></div>
  </body>
</html>
