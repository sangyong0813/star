<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <title>$.each() 예제</title>
    <script>
      let json = [
        {
          brandName: "KG모빌리티",
          carName: "토레스",
          color: "White",
          carImg: "pic/torres.png",
          descripstion: "연료 : 가솔린, 엔진 : I4 싱글터보",
          link: "http://www.kg-mobility.com/kr/showroom/torres/",
          trColor: "light",
        },
        {
          brandName: "제네시스",
          carName: "GV70",
          color: "Black",
          carImg: " pic/gv70.png", //
          descripstion: "연료 : 가솔린, 엔진 : V6 트윈터보",
          link: "https://www.genesis.com/kr/ko/models/luxury-suv-genesis/gv70/highlights.html",
          trColor: "dark",
        },
        {
          brandName: "기아",
          carName: "EV9",
          color: "Blue",
          carImg: "pic/ev9.png",
          descripstion: "연료 : 가솔린, 엔진 : V6 트윈터보",
          link: "https://www.genesis.com/kr/ko/models/luxury-suv-genesis/gv70/highlights.html",
          trColor: "primary",
        },
      ];

      console.log(json);
      let table =
        "<table class='table'><thead><tr class='table-success'><th>브랜드</th><th>이름</th><th>색상</th><th>사진</th><th>정보</th><th>링크</th></tr></thead><tbody>";
      $.each(json, function (i, item) {
        table += `<tr class = 'table-${item.trColor}'><td>${item.brandName}</td><td>${item.carName}</td><td>${item.color}</td>`;
        // <td><img src = '${item.carImg}'></td>
        if (item.carImg == "" || item.carImg == undefined) {
          table += `<td><img src = 'pic/noimage.jpg'></td>`;
        } else {
          table += `<td><img src = '${item.carImg}'></td>`;
        }

        table += `<td>${item.descripstion}</td><td><a href='${item.link}'>공식사이트</a></td></tr>`;
      });
      table += "</tbody></table>";

      let card = "";
      $.each(json, function (i, item) {
        card += ` <div class="card img-fluid" style="width:400px">`;
        if (item.carImg == "" || item.carImg == undefined) {
          card += ` <img class="card-img-top" src="pic/noimage.PNG"  style="width:100%; height:400px;">`;
        } else {
          card += `<img class="card-img-top" src="${item.carImg}" style="width:100%; height:400px;">`;
        }
        card += `
        <div class="card-img-overlay">
          <h4 class="card-title">${item.carName}</h4>
          <p class="card-text">${item.brandName}</p>
          <p class="card-text">${item.color}</p>
          <p class="card-text">${item.descripstion}</p>
          <a href="${item.link}" class="btn btn-primary">공식사이트</a></div></div>`;
      });

      $(function () {
        // 만약 이미지가 없다면 noimage.jpg
        $("#tableCatalog").html(table);
        $("#cardCatalog").html(card);

        $("table img").css({ width: "300px", height: "150px" });
        $("#cardCatalog").css({
          display: "flex",
          "justify-content": "center",
          "align-items": "center",
        });
      });
    </script>
  </head>
  <body>
    <div class="container mt-3">
      <h2>차량 소개</h2>
      <div id="tableCatalog"></div>
      <div id="cardCatalog"></div>
    </div>
  </body>
</html>
